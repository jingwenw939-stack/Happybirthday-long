<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç”Ÿæ—¥å¿«ä¹ï¼æˆ‘çš„å°¼å…‹å…ˆç”Ÿ ğŸ¦Š</title>
    <!-- å¼•å…¥ Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- å¼•å…¥ Lucide å›¾æ ‡åº“ -->
    <script src="https://unpkg.com/lucide@latest"></script>
    <!-- å¼•å…¥ Canvas Confetti -->
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
    
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Ma+Shan+Zheng&display=swap');

        body {
            font-family: 'YouYuan', 'STYuanti', 'Comic Sans MS', cursive, sans-serif;
            background-color: #E0BBE4; 
            min-height: 100vh;
            overflow-x: hidden;
            color: #2d3748;
            position: relative;
        }

        /* èƒŒæ™¯å›¾ç‰‡è®¾ç½®ï¼š
           è¯·ç¡®ä¿ 'imagine.jpg' (æœ±è¿ªå°¼å…‹èƒŒæ™¯å›¾) å’Œç½‘é¡µåœ¨åŒä¸€æ–‡ä»¶å¤¹
        */
        body::before {
            content: "";
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            /* èƒŒæ™¯å›¾æ–‡ä»¶å */
            background-image: url('imagine.jpg');
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
            opacity: 0.4; /* 40% ä¸é€æ˜åº¦ */
        }

        .glass-card {
            background: rgba(255, 255, 255, 0.75);
            backdrop-filter: blur(16px);
            -webkit-backdrop-filter: blur(16px);
            border-radius: 24px;
            border: 3px solid rgba(255, 255, 255, 0.9);
            box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.2);
        }
        
        .nick-border { border-color: #ffae7f; }
        .judy-border { border-color: #c0b2e8; }

        .gift-box {
            transition: transform 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            cursor: pointer;
            background: radial-gradient(circle at 30% 30%, #fff9c4, #fff59d);
        }

        .gift-box:active { transform: scale(0.95); }
        .gift-box.shaking { animation: shake 0.5s; }

        @keyframes shake {
            0% { transform: translate(1px, 1px) rotate(0deg); }
            10% { transform: translate(-1px, -2px) rotate(-1deg); }
            20% { transform: translate(-3px, 0px) rotate(1deg); }
            30% { transform: translate(3px, 2px) rotate(0deg); }
            40% { transform: translate(1px, -1px) rotate(1deg); }
            50% { transform: translate(-1px, 2px) rotate(-1deg); }
            60% { transform: translate(-3px, 1px) rotate(0deg); }
            70% { transform: translate(3px, 1px) rotate(-1deg); }
            80% { transform: translate(-1px, -1px) rotate(1deg); }
            90% { transform: translate(1px, 2px) rotate(0deg); }
            100% { transform: translate(1px, -2px) rotate(-1deg); }
        }

        .floating-element {
            position: absolute;
            animation: float 8s ease-in-out infinite;
            z-index: 0;
            pointer-events: none;
            opacity: 0.7;
            font-size: 28px;
            filter: drop-shadow(0 2px 4px rgba(0,0,0,0.2));
        }

        @keyframes float {
            0% { transform: translateY(110vh) rotate(0deg); opacity: 0; }
            20% { opacity: 0.8; }
            80% { opacity: 0.8; }
            100% { transform: translateY(-10vh) rotate(360deg); opacity: 0; }
        }

        .custom-font-title {
            font-family: 'Ma Shan Zheng', cursive;
            letter-spacing: 2px;
        }

        h1, h2, h3 { text-shadow: 2px 2px 4px rgba(0,0,0,0.1); }

        /* ç…§ç‰‡å®¹å™¨æ ·å¼ - æ‹ç«‹å¾—é£æ ¼ */
        .photo-container {
            width: 100%;
            max-width: 280px; 
            /* è®¾ç½®æ¯”ä¾‹ä»¥é€‚åº”æ‹ç«‹å¾—é£æ ¼ */
            padding: 12px 12px 50px 12px;
            background-color: white;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            transform: rotate(-3deg); /* ç¨å¾®å€¾æ–œä¸€ç‚¹æ›´å¯çˆ± */
            transition: all 0.3s ease;
            position: relative;
        }
        
        .photo-container:hover {
            transform: rotate(0deg) scale(1.05);
            box-shadow: 0 15px 40px rgba(0, 0, 0, 0.3);
            z-index: 20;
        }

        .photo-inner {
            width: 100%;
            aspect-ratio: 3/4; /* æ ¹æ®æ‚¨ä¸Šä¼ çš„ç…§ç‰‡å¤§è‡´æ¯”ä¾‹è°ƒæ•´ */
            overflow: hidden;
            background-color: #f0f0f0;
        }

        .photo-inner img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        
        /* è¿™é‡Œçš„æ–‡å­—æ˜¯å†™åœ¨æ‹ç«‹å¾—ä¸‹æ–¹çš„ */
        .photo-caption {
            position: absolute;
            bottom: 15px;
            width: 100%;
            text-align: center;
            left: 0;
            font-family: 'Ma Shan Zheng', cursive;
            color: #555;
            font-size: 1.2rem;
        }
    </style>
</head>
<body class="p-4 md:p-8 flex flex-col items-center justify-start relative">

    <div id="background-container" class="absolute inset-0 overflow-hidden w-full h-full"></div>

    <main class="w-full max-w-lg z-10 flex flex-col gap-5 pb-20 items-center">
        
        <header class="text-center mt-8 mb-4 w-full">
            <div class="inline-flex items-center justify-center bg-white/60 px-4 py-1 rounded-full border-2 border-white/70 mb-2 backdrop-blur-sm shadow-sm">
                <span class="text-sm font-bold text-blue-800">Zootopia Police Department (ZPD)</span>
            </div>
            <h1 class="text-4xl md:text-5xl font-bold text-white drop-shadow-[0_4px_4px_rgba(0,0,0,0.5)] custom-font-title mb-2">
                <span class="text-orange-200">ç”Ÿæ—¥å¿«ä¹</span> ğŸ¦Š
            </h1>
            <p class="text-white text-lg font-bold drop-shadow-[0_2px_2px_rgba(0,0,0,0.5)]">è‡´ æˆ‘æœ€ç‹¡çŒ¾åˆè¿·äººçš„æ­æ¡£ â¤ï¸</p>
        </header>

        <!-- ğŸ“¸ æˆ‘ä»¬çš„åˆç…§åŒºåŸŸ -->
        <div class="photo-container">
            <div class="photo-inner">
                <!-- 
                    ğŸ”´ è¿™é‡Œå¼•ç”¨äº†æ‚¨çš„åˆç…§æ–‡ä»¶å 
                    è¯·å°†æ‚¨çš„ç…§ç‰‡é‡å‘½åä¸º love.jpg æ”¾åœ¨åŒä¸€æ–‡ä»¶å¤¹ä¸‹
                    æˆ–è€…å°†ä¸‹é¢çš„ 'love.jpg' æ”¹ä¸ºæ‚¨ç…§ç‰‡çš„åŸå '321764631372_.pic_hd.jpg'
                -->
                <img src="love.jpg" alt="æˆ‘ä»¬è¶…çº§ç”œçš„åˆç…§">
            </div>
            <div class="photo-caption">é¾™ç›¸å®‡ â¤ï¸ ç‹é™é›¯</div>
        </div>

        <!-- é¾™é¾™çš„ç”Ÿæ—¥å¡ç‰‡ -->
        <div class="glass-card p-6 text-center transform hover:scale-[1.02] transition-all relative overflow-hidden nick-border w-full">
            <div class="absolute -right-6 -top-6 w-20 h-20 bg-orange-300 rounded-full blur-2xl opacity-40"></div>
            <div class="flex justify-center mb-2">
                <span class="text-4xl filter drop-shadow-md">ğŸ¦Š</span>
            </div>
            <h2 class="text-xl font-bold text-orange-800 mb-1 custom-font-title">é¾™é¾™çš„ç ´å£³æ—¥</h2>
            <p class="text-3xl font-mono text-orange-600 font-bold">2002.12.03</p>
            <p class="text-sm text-gray-700 mt-2 font-bold">"You know you love me." â€”â€” æ„Ÿè°¢è¿™ä¸€å¤©ä½ æ¥åˆ°è¿™ä¸–ç•Œ âœ¨</p>
        </div>

        <div class="grid grid-cols-1 gap-4 w-full">
            <div class="glass-card p-4 flex flex-col items-center judy-border relative">
                <div class="flex items-center gap-2 mb-2">
                    <span class="text-2xl">ğŸ“‹</span>
                    <span class="font-bold text-blue-900 text-lg">ZPD é¦–æ¬¡å»ºæ¡£ (ç›¸è¯†)</span>
                </div>
                <div class="text-sm text-blue-700/80 mb-1 font-bold">2024å¹´1æœˆ10æ—¥</div>
                <div id="timer-met" class="text-xl font-mono text-blue-800 font-bold">è®¡ç®—ä¸­...</div>
            </div>

            <div class="glass-card p-4 flex flex-col items-center border-purple-300">
                <div class="flex items-center gap-2 mb-2">
                    <span class="text-2xl">ğŸ™ï¸</span>
                    <span class="font-bold text-purple-900 text-lg">æ— çº¿ç”µé¢‘é“æ¥é€š (ç•…èŠ)</span>
                </div>
                <div class="text-sm text-purple-700/80 mb-1 font-bold">2025å¹´4æœˆ16æ—¥</div>
                <div id="timer-chat" class="text-xl font-mono text-purple-800 font-bold">è®¡ç®—ä¸­...</div>
            </div>

            <div class="glass-card p-4 flex flex-col items-center border-4 border-pink-300 bg-pink-50/60 relative overflow-hidden">
                <div class="absolute -left-4 -bottom-4 w-24 h-24 bg-pink-300 rounded-full blur-2xl opacity-40"></div>
                <div class="flex items-center gap-2 mb-2 z-10">
                    <span class="text-2xl">ğŸš“</span>
                    <span class="font-bold text-pink-700 text-xl">æœ€ä½³æ‹æ¡£å®˜æ–¹è®¤è¯ (ç›¸æ‹)</span>
                </div>
                <div class="text-sm text-pink-700/80 mb-1 z-10 font-bold">2025å¹´6æœˆ17æ—¥</div>
                <div id="timer-love" class="text-2xl font-mono text-pink-600 font-bold z-10">è®¡ç®—ä¸­...</div>
                <p class="text-sm text-pink-600 mt-2 font-bold z-10">Try Everything! å’Œä½ ä¸€èµ·æ¢ç´¢æœªæ¥</p>
            </div>
        </div>

        <div class="glass-card p-6 mt-4 text-center border-blue-300 relative w-full">
            <span class="absolute top-2 right-4 text-3xl opacity-60 rotate-12 drop-shadow">ğŸ¥•</span>
            <span class="absolute bottom-2 left-4 text-3xl opacity-60 -rotate-12 drop-shadow">ğŸ¾</span>

            <h3 class="text-2xl font-bold text-blue-900 mb-2 custom-font-title">ğŸ° ç¾å¥³å®å®çš„è­¦å±€è¡¥ç»™ç®± ğŸ¦Š</h3>
            <p class="text-sm text-blue-800 mb-6 bg-blue-100/60 inline-block px-4 py-2 rounded-full font-bold">å†…å«è¿ç¦å“...å•Šä¸å¯¹ï¼Œæ˜¯ç”Ÿæ—¥æƒŠå–œï¼</p>
            
            <div id="gift-btn" class="gift-box rounded-3xl w-28 h-28 mx-auto flex items-center justify-center shadow-xl hover:shadow-yellow-400/50 mb-4 relative ring-4 ring-white/60">
                <div class="text-5xl drop-shadow-md">ğŸ</div>
                <span class="absolute -top-2 -right-2 bg-red-500 text-white text-sm font-bold rounded-full w-8 h-8 flex items-center justify-center animate-bounce border-2 border-white" id="gift-count">6</span>
            </div>
            
            <p id="gift-instruction" class="text-base font-bold text-orange-800/90">ğŸ‘‡ ç‚¹å‡»å¼€å¯ä»Šæ—¥ä»½æ¡ˆä»¶çº¿ç´¢</p>
        </div>

        <div class="w-full text-center mt-6 px-4">
            <p class="text-white font-bold text-xl drop-shadow-[0_2px_2px_rgba(0,0,0,0.4)] leading-relaxed custom-font-title">
                ğŸ¦Šâ€œå¯¹æˆ‘æ¥è¯´æœ€é‡è¦çš„å°±æ˜¯ä½ ğŸ’—<br>æˆ‘æœ€å¤§çš„å¹¸ç¦å°±æ˜¯é‡è§ä½ â€ğŸ°
            </p>
        </div>

        <footer class="text-center text-white/90 text-sm py-4 font-bold drop-shadow w-full">
            <p>From ç‹é™é›¯ with Love ğŸ°â¤ï¸ğŸ¦Š</p>
        </footer>
    </main>

    <div id="modal" class="fixed inset-0 bg-slate-900/60 z-50 hidden flex items-center justify-center p-4 backdrop-blur-md">
        <div class="glass-card bg-white/95 w-full max-w-sm p-6 text-center transform transition-all scale-90 opacity-0 relative border-4 border-blue-200" id="modal-content">
            <div class="absolute top-0 left-0 w-full h-3 bg-gradient-to-r from-blue-400 via-purple-400 to-orange-400 rounded-t-xl"></div>
            
            <div class="mb-4 flex justify-center -mt-10">
                <div class="w-24 h-24 bg-white rounded-full flex items-center justify-center text-5xl shadow-lg border-4 border-blue-100" id="modal-icon">ğŸ</div>
            </div>
            <h3 class="text-2xl font-bold text-gray-800 mb-2 custom-font-title" id="modal-title">ç¤¼ç‰©æ ‡é¢˜</h3>
            <div class="text-gray-700 mb-6 text-base leading-relaxed px-2 font-bold" id="modal-desc">ç¤¼ç‰©æè¿°</div>
            <button onclick="closeModal()" class="w-full bg-gradient-to-r from-blue-400 to-indigo-500 text-white font-bold py-3 px-4 rounded-xl shadow-lg hover:shadow-blue-400/30 transition-all transform hover:-translate-y-1 text-lg">
                æ”¶å…¥è¯ç‰©è¢‹ (é¢†å–)
            </button>
        </div>
    </div>

    <script>
        lucide.createIcons();

        const emojis = ['ğŸ¥•', 'ğŸ¾', 'ğŸ©', 'ğŸ’™', 'ğŸ¦Š', 'ğŸ°', 'ğŸš“', 'âœ¨', 'ğŸ’–'];
        function createFloatingElement() {
            const el = document.createElement('div');
            el.classList.add('floating-element');
            el.innerText = emojis[Math.floor(Math.random() * emojis.length)];
            el.style.left = Math.random() * 90 + 5 + 'vw';
            el.style.animationDuration = Math.random() * 5 + 5 + 's';
            el.style.fontSize = Math.random() * 20 + 20 + 'px';
            el.style.transform = `rotate(${Math.random() * 360}deg)`;
            document.getElementById('background-container').appendChild(el);
            setTimeout(() => { el.remove(); }, 9000);
        }
        setInterval(createFloatingElement, 500);

        function getTimeDifference(startDateStr) {
            const now = new Date();
            const start = new Date(startDateStr);
            let diff = now - start;
            const isFuture = diff < 0;
            diff = Math.abs(diff);
            const days = Math.floor(diff / (1000 * 60 * 60 * 24));
            const hours = Math.floor((diff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
            const minutes = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));
            const seconds = Math.floor((diff % (1000 * 60)) / 1000);
            return { days, hours, minutes, seconds, isFuture };
        }

        function updateTimers() {
            const configs = [
                { id: 'timer-met', date: '2024-01-10T00:00:00' },
                { id: 'timer-chat', date: '2025-04-16T00:00:00' },
                { id: 'timer-love', date: '2025-06-17T00:00:00' }
            ];
            configs.forEach(cfg => {
                const el = document.getElementById(cfg.id);
                const diff = getTimeDifference(cfg.date);
                let text = diff.isFuture ? 
                    `å€’è®¡æ—¶: ${diff.days}å¤© ${diff.hours}æ—¶ ${diff.minutes}åˆ† ${diff.seconds}ç§’` : 
                    `${diff.days}å¤© ${diff.hours}å°æ—¶ ${diff.minutes}åˆ† ${diff.seconds}ç§’`;
                el.innerText = text;
                if(diff.isFuture) {
                    el.classList.add('text-gray-500');
                    el.classList.remove('text-pink-600', 'text-blue-800', 'text-purple-800');
                } else {
                    el.classList.remove('text-gray-500');
                }
            });
        }
        setInterval(updateTimers, 1000);
        updateTimers();

        const gifts = [
            { title: "ç»å¯†å½±åƒÂ·ç¾å¥³æ¡£æ¡ˆ", icon: "ğŸ¬", desc: "ZPD å†…éƒ¨æµå‡ºçš„çè´µè§†é¢‘èµ„æ–™ï¼<br>è¯·å‡­æ­¤é¡µé¢å‘<b>ç¾å¥³å®å®</b>å…‘æ¢è§†é¢‘æ–‡ä»¶~ <br>(PS: å¿…é¡»å¤¸å¥–è§†é¢‘ä¸»è§’ï¼Œè¿™æ˜¯å‘½ä»¤ï¼)", confetti: true },
            { title: "èƒ¡èåœå†œåœºåˆ†çº¢", icon: "ğŸ§§", desc: "æ­å–œè·å¾— <span class='text-red-500 font-bold text-2xl'>52.00</span> å…ƒï¼<br>è¿™æ˜¯ç»™ç‹¡çŒ¾ç‹ç‹¸çš„â€œç½šæ¬¾â€æŠ¥é”€ã€‚<br>è¯·æŸ¥æ”¶å¾®ä¿¡è½¬è´¦~", confetti: true },
            { title: "ä¾¿è¡£ä¼ªè£…Â·é™å®šå«è¡£", icon: "ğŸ‘•", desc: "æ­å–œè·å¾—å¸…æ°”å«è¡£ä¸€ä»¶ï¼<br>æ— è®ºæ˜¯å‡ºä»»åŠ¡è¿˜æ˜¯çº¦ä¼šéƒ½å¾ˆåˆé€‚ã€‚<br>(<b>ç¾å¥³å®å®</b>äº²è‡ªæŒ‘é€‰çš„æ¬¾å¼å“¦)", confetti: true },
            { title: "è±¹è­¦å®˜æ¨èÂ·ç”œç‚¹", icon: "ğŸ©", desc: "æ­å–œè·å¾—ç”Ÿæ—¥è›‹ç³•ä¸€ä¸ªï¼<br>è™½ç„¶ä¸æ˜¯çˆªçˆªå†°æ£ï¼Œä½†ä¸€æ ·ç”œã€‚<br>è®¸ä¸ªæ„¿å§ï¼Œå…³äºæˆ‘ä»¬çš„ã€‚", confetti: true },
            { title: "å¤©çœ¼ç³»ç»ŸÂ·æ— äººæœº", icon: "ğŸš", desc: "<b>å“‡å“¦ï¼å¤§å¥–å‡ºç‚‰ï¼</b><br>å¤§ç–†æ— äººæœºä¸€å°ï¼<br>å¸¦ä½ å»çœ‹ä¸ä¸€æ ·çš„åŠ¨ç‰©åŸï¼Œ<br>ä½†æˆ‘ä¼šä¸€ç›´åœ¨åœ°é¢å®ˆæœ›ç€ä½ ã€‚", confetti: true },
            { title: "æ¡ˆä»¶å›é¡¾Â·æ‰‹ç»˜", icon: "ğŸ¨", desc: "æœ€åä¸€ä»½ç¤¼ç‰©ã€‚<br>ä¸€å¹…è®°å½•äº†é‡è¦èŠ‚ç‚¹å’Œå›å¿†çš„ç”»ä½œã€‚<br>è¿™æ˜¯å±äºé¾™ç›¸å®‡å’Œç‹é™é›¯çš„ç‹¬å®¶è®°å¿†ã€‚", confetti: true }
        ];

        let currentGiftIndex = 0;
        const giftBtn = document.getElementById('gift-btn');
        const modal = document.getElementById('modal');
        const modalContent = document.getElementById('modal-content');
        const countBadge = document.getElementById('gift-count');

        giftBtn.addEventListener('click', () => {
            if (currentGiftIndex >= gifts.length) {
                openModal({ title: "ä»»åŠ¡å…¨éƒ¨å®Œæˆ âœ…", icon: "â¤ï¸", desc: "ç¤¼ç‰©é¢†å–å®Œæ¯•ï¼<br>å¾€åä½™ç”Ÿï¼Œè¯·ç»§ç»­å’Œæˆ‘ä¸€èµ·å¼€å¿ƒï¼Œä¸€èµ·ç”Ÿæ´»ã€‚<br>ç”Ÿæ—¥å¿«ä¹ï¼Œæˆ‘çš„é¾™é¾™ã€‚", confetti: false });
                return;
            }
            giftBtn.classList.add('shaking');
            setTimeout(() => {
                giftBtn.classList.remove('shaking');
                showGift(currentGiftIndex);
                currentGiftIndex++;
                updateCount();
            }, 500);
        });

        function updateCount() {
            const remaining = gifts.length - currentGiftIndex;
            if (remaining > 0) { countBadge.innerText = remaining; } 
            else { countBadge.style.display = 'none'; document.getElementById('gift-instruction').innerText = "ç¤¼ç‰©å·²é¢†å®Œï¼Œçˆ±ä½ å“Ÿï¼"; }
        }

        function showGift(index) {
            const gift = gifts[index];
            openModal(gift);
            if (gift.confetti) triggerConfetti();
        }

        function openModal(data) {
            document.getElementById('modal-title').innerText = data.title;
            document.getElementById('modal-icon').innerHTML = data.icon;
            document.getElementById('modal-desc').innerHTML = data.desc;
            modal.classList.remove('hidden');
            setTimeout(() => { modalContent.classList.remove('scale-90', 'opacity-0'); modalContent.classList.add('scale-100', 'opacity-100'); }, 10);
        }

        function closeModal() {
            modalContent.classList.remove('scale-100', 'opacity-100');
            modalContent.classList.add('scale-90', 'opacity-0');
            setTimeout(() => { modal.classList.add('hidden'); }, 300);
        }

        function triggerConfetti() {
            var duration = 3 * 1000;
            var animationEnd = Date.now() + duration;
            var defaults = { startVelocity: 30, spread: 360, ticks: 60, zIndex: 100 };
            var random = function(min, max) { return Math.random() * (max - min) + min; }
            var interval = setInterval(function() {
                var timeLeft = animationEnd - Date.now();
                if (timeLeft <= 0) return clearInterval(interval);
                var particleCount = 50 * (timeLeft / duration);
                confetti(Object.assign({}, defaults, { particleCount, colors: ['#ff9a9e', '#a18cd1', '#ffcf00'], origin: { x: random(0.1, 0.3), y: Math.random() - 0.2 } }));
                confetti(Object.assign({}, defaults, { particleCount, colors: ['#66a6ff', '#fa709a', '#ffffff'], origin: { x: random(0.7, 0.9), y: Math.random() - 0.2 } }));
            }, 250);
        }
    </script>
</body>
</html>